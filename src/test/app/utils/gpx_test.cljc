(ns app.utils.gpx-test
  (:require [clojure.test :refer [deftest testing is]]
            [app.utils.gpx :refer [time->iso8601 makeDate geo->gpx-xml]]
            ))

(def example-tracks
  {:tracks [{:coords    {:latitude  50.9341,
                         :longitude 13.6075983,
                         :accuracy  20,
                         :speed     64.84,
                         :heading   180,
                         :altitude  0},
             :is_moving false,
             :odometer  491863,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "8649fd36-48a6-4783-b4ff-cb3cd2b407ff",
             :timestamp (makeDate "2020-01-25T11:32:33.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.8149,
                         :longitude 13.8081983,
                         :accuracy  20,
                         :speed     45.33,
                         :heading   17,
                         :altitude  0},
             :is_moving false,
             :odometer  491863,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "bac034e8-4f35-48a5-a669-07473cd179f9",
             :timestamp (makeDate "2020-01-25T11:44:15.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.8322,
                         :longitude 13.9680983,
                         :accuracy  20,
                         :speed     58.73,
                         :heading   111,
                         :altitude  0},
             :is_moving false,
             :odometer  491863,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "2dc2a57c-6cc8-4a41-9df2-3db6e4e853dc",
             :timestamp (makeDate "2020-01-25T11:50:16.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.8329,
                         :longitude 13.977,
                         :accuracy  20,
                         :speed     0,
                         :heading   -1,
                         :altitude  0},
             :is_moving false,
             :odometer  491863,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "6789a361-1356-43f9-9648-221fecc80721",
             :timestamp (makeDate "2020-01-25T11:50:45.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.8891931,
                         :longitude 13.9896944,
                         :accuracy  20,
                         :speed     0.03,
                         :heading   19.75,
                         :altitude  0},
             :is_moving true,
             :odometer  491944.9,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "3ec505ff-a12e-41a0-897e-17a725e190d6",
             :timestamp (makeDate "2020-01-25T11:53:41.000-00:00"),
             :extras    {}}
            {:is_moving true,
             :uuid      "e53e194e-852f-4281-8617-9a5e5490400a",
             :timestamp (makeDate "2020-01-25T11:53:42.000-00:00"),
             :odometer  491969.9,
             :coords    {:latitude  50.8894073,
                         :longitude 13.9898026,
                         :accuracy  20,
                         :speed     2.24,
                         :heading   17.71,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:is_moving true,
             :uuid      "cf898765-1da8-44eb-941b-db2e77c46f87",
             :timestamp (makeDate "2020-01-25T11:53:43.000-00:00"),
             :odometer  492025.1,
             :coords    {:latitude  50.8898144,
                         :longitude 13.9902509,
                         :accuracy  20,
                         :speed     15.63,
                         :heading   32.99,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:is_moving true,
             :uuid      "3eefa2b1-90cf-44f0-8330-576d90e5a466",
             :timestamp (makeDate "2020-01-25T11:53:44.000-00:00"),
             :odometer  492075.2,
             :coords    {:latitude  50.8901994,
                         :longitude 13.9906197,
                         :accuracy  20,
                         :speed     27.58,
                         :heading   31.83,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:is_moving true,
             :uuid      "e201ea5d-68a5-40bd-a9c8-62776cf1de2a",
             :timestamp (makeDate "2020-01-25T11:53:46.000-00:00"),
             :odometer  492205,
             :coords    {:latitude  50.8913116,
                         :longitude 13.9911766,
                         :accuracy  20,
                         :speed     42.52,
                         :heading   19.09,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:coords    {:latitude  50.8915184,
                         :longitude 13.9912014,
                         :accuracy  20,
                         :speed     41.29,
                         :heading   16.56,
                         :altitude  0},
             :is_moving true,
             :odometer  492228,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "486762e1-7458-463e-aed7-ad123bc5bbbf",
             :timestamp (makeDate "2020-01-25T11:53:47.000-00:00"),
             :extras    {}}
            {:is_moving true,
             :uuid      "41706820-652c-40aa-a573-1c7411d72201",
             :timestamp (makeDate "2020-01-25T11:53:50.000-00:00"),
             :odometer  492337.1,
             :coords    {:latitude  50.8924981,
                         :longitude 13.9912535,
                         :accuracy  20,
                         :speed     39.04,
                         :heading   6.12,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:is_moving true,
             :uuid      "eab40cdd-c89f-49c1-9cb9-c2f2c2c7a4a2",
             :timestamp (makeDate "2020-01-25T11:53:52.000-00:00"),
             :odometer  492476.9,
             :coords    {:latitude  50.8937537,
                         :longitude 13.9913517,
                         :accuracy  20,
                         :speed     67.43,
                         :heading   3.51,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:coords    {:latitude  50.9222983,
                         :longitude 13.9623,
                         :accuracy  20,
                         :speed     51.1,
                         :heading   327,
                         :altitude  0},
             :is_moving false,
             :odometer  492476.9,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "bc276726-35d1-48ad-865a-f8c42dfbe284",
             :timestamp (makeDate "2020-01-25T11:55:25.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.9341,
                         :longitude 13.6075983,
                         :accuracy  20,
                         :speed     64.84,
                         :heading   180,
                         :altitude  0},
             :is_moving false,
             :odometer  491863,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "8649fd36-48a6-4783-b4ff-cb3cd2b407ff",
             :timestamp (makeDate "2020-01-25T11:32:33.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.8149,
                         :longitude 13.8081983,
                         :accuracy  20,
                         :speed     45.33,
                         :heading   17,
                         :altitude  0},
             :is_moving false,
             :odometer  491863,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "bac034e8-4f35-48a5-a669-07473cd179f9",
             :timestamp (makeDate "2020-01-25T11:44:15.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.8322,
                         :longitude 13.9680983,
                         :accuracy  20,
                         :speed     58.73,
                         :heading   111,
                         :altitude  0},
             :is_moving false,
             :odometer  491863,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "2dc2a57c-6cc8-4a41-9df2-3db6e4e853dc",
             :timestamp (makeDate "2020-01-25T11:50:16.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.8329,
                         :longitude 13.977,
                         :accuracy  20,
                         :speed     0,
                         :heading   -1,
                         :altitude  0},
             :is_moving false,
             :odometer  491863,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "6789a361-1356-43f9-9648-221fecc80721",
             :timestamp (makeDate "2020-01-25T11:50:45.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.8891931,
                         :longitude 13.9896944,
                         :accuracy  20,
                         :speed     0.03,
                         :heading   19.75,
                         :altitude  0},
             :is_moving true,
             :odometer  491944.9,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "3ec505ff-a12e-41a0-897e-17a725e190d6",
             :timestamp (makeDate "2020-01-25T11:53:41.000-00:00"),
             :extras    {}}
            {:is_moving true,
             :uuid      "e53e194e-852f-4281-8617-9a5e5490400a",
             :timestamp (makeDate "2020-01-25T11:53:42.000-00:00"),
             :odometer  491969.9,
             :coords    {:latitude  50.8894073,
                         :longitude 13.9898026,
                         :accuracy  20,
                         :speed     2.24,
                         :heading   17.71,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:is_moving true,
             :uuid      "cf898765-1da8-44eb-941b-db2e77c46f87",
             :timestamp (makeDate "2020-01-25T11:53:43.000-00:00"),
             :odometer  492025.1,
             :coords    {:latitude  50.8898144,
                         :longitude 13.9902509,
                         :accuracy  20,
                         :speed     15.63,
                         :heading   32.99,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:is_moving true,
             :uuid      "3eefa2b1-90cf-44f0-8330-576d90e5a466",
             :timestamp (makeDate "2020-01-25T11:53:44.000-00:00"),
             :odometer  492075.2,
             :coords    {:latitude  50.8901994,
                         :longitude 13.9906197,
                         :accuracy  20,
                         :speed     27.58,
                         :heading   31.83,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:is_moving true,
             :uuid      "e201ea5d-68a5-40bd-a9c8-62776cf1de2a",
             :timestamp (makeDate "2020-01-25T11:53:46.000-00:00"),
             :odometer  492205,
             :coords    {:latitude  50.8913116,
                         :longitude 13.9911766,
                         :accuracy  20,
                         :speed     42.52,
                         :heading   19.09,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:coords    {:latitude  50.8915184,
                         :longitude 13.9912014,
                         :accuracy  20,
                         :speed     41.29,
                         :heading   16.56,
                         :altitude  0},
             :is_moving true,
             :odometer  492228,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "486762e1-7458-463e-aed7-ad123bc5bbbf",
             :timestamp (makeDate "2020-01-25T11:53:47.000-00:00"),
             :extras    {}}
            {:is_moving true,
             :uuid      "41706820-652c-40aa-a573-1c7411d72201",
             :timestamp (makeDate "2020-01-25T11:53:50.000-00:00"),
             :odometer  492337.1,
             :coords    {:latitude  50.8924981,
                         :longitude 13.9912535,
                         :accuracy  20,
                         :speed     39.04,
                         :heading   6.12,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:is_moving true,
             :uuid      "eab40cdd-c89f-49c1-9cb9-c2f2c2c7a4a2",
             :timestamp (makeDate "2020-01-25T11:53:52.000-00:00"),
             :odometer  492476.9,
             :coords    {:latitude  50.8937537,
                         :longitude 13.9913517,
                         :accuracy  20,
                         :speed     67.43,
                         :heading   3.51,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:coords    {:latitude  50.9222983,
                         :longitude 13.9623,
                         :accuracy  20,
                         :speed     51.1,
                         :heading   327,
                         :altitude  0},
             :is_moving false,
             :odometer  492476.9,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "bc276726-35d1-48ad-865a-f8c42dfbe284",
             :timestamp (makeDate "2020-01-25T11:55:25.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.9341,
                         :longitude 13.6075983,
                         :accuracy  20,
                         :speed     64.84,
                         :heading   180,
                         :altitude  0},
             :is_moving false,
             :odometer  491863,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "8649fd36-48a6-4783-b4ff-cb3cd2b407ff",
             :timestamp (makeDate "2020-01-25T11:32:33.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.8149,
                         :longitude 13.8081983,
                         :accuracy  20,
                         :speed     45.33,
                         :heading   17,
                         :altitude  0},
             :is_moving false,
             :odometer  491863,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "bac034e8-4f35-48a5-a669-07473cd179f9",
             :timestamp (makeDate "2020-01-25T11:44:15.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.8322,
                         :longitude 13.9680983,
                         :accuracy  20,
                         :speed     58.73,
                         :heading   111,
                         :altitude  0},
             :is_moving false,
             :odometer  491863,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "2dc2a57c-6cc8-4a41-9df2-3db6e4e853dc",
             :timestamp (makeDate "2020-01-25T11:50:16.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.8329,
                         :longitude 13.977,
                         :accuracy  20,
                         :speed     0,
                         :heading   -1,
                         :altitude  0},
             :is_moving false,
             :odometer  491863,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "6789a361-1356-43f9-9648-221fecc80721",
             :timestamp (makeDate "2020-01-25T11:50:45.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  50.8891931,
                         :longitude 13.9896944,
                         :accuracy  20,
                         :speed     0.03,
                         :heading   19.75,
                         :altitude  0},
             :is_moving true,
             :odometer  491944.9,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "3ec505ff-a12e-41a0-897e-17a725e190d6",
             :timestamp (makeDate "2020-01-25T11:53:41.000-00:00"),
             :extras    {}}
            {:is_moving true,
             :uuid      "e53e194e-852f-4281-8617-9a5e5490400a",
             :timestamp (makeDate "2020-01-25T11:53:42.000-00:00"),
             :odometer  491969.9,
             :coords    {:latitude  50.8894073,
                         :longitude 13.9898026,
                         :accuracy  20,
                         :speed     2.24,
                         :heading   17.71,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:is_moving true,
             :uuid      "cf898765-1da8-44eb-941b-db2e77c46f87",
             :timestamp (makeDate "2020-01-25T11:53:43.000-00:00"),
             :odometer  492025.1,
             :coords    {:latitude  50.8898144,
                         :longitude 13.9902509,
                         :accuracy  20,
                         :speed     15.63,
                         :heading   32.99,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:is_moving true,
             :uuid      "3eefa2b1-90cf-44f0-8330-576d90e5a466",
             :timestamp (makeDate "2020-01-25T11:53:44.000-00:00"),
             :odometer  492075.2,
             :coords    {:latitude  50.8901994,
                         :longitude 13.9906197,
                         :accuracy  20,
                         :speed     27.58,
                         :heading   31.83,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:is_moving true,
             :uuid      "e201ea5d-68a5-40bd-a9c8-62776cf1de2a",
             :timestamp (makeDate "2020-01-25T11:53:46.000-00:00"),
             :odometer  492205,
             :coords    {:latitude  50.8913116,
                         :longitude 13.9911766,
                         :accuracy  20,
                         :speed     42.52,
                         :heading   19.09,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:coords    {:latitude  50.8915184,
                         :longitude 13.9912014,
                         :accuracy  20,
                         :speed     41.29,
                         :heading   16.56,
                         :altitude  0},
             :is_moving true,
             :odometer  492228,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "486762e1-7458-463e-aed7-ad123bc5bbbf",
             :timestamp (makeDate "2020-01-25T11:53:47.000-00:00"),
             :extras    {}}
            {:is_moving true,
             :uuid      "41706820-652c-40aa-a573-1c7411d72201",
             :timestamp (makeDate "2020-01-25T11:53:50.000-00:00"),
             :odometer  492337.1,
             :coords    {:latitude  50.8924981,
                         :longitude 13.9912535,
                         :accuracy  20,
                         :speed     39.04,
                         :heading   6.12,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:is_moving true,
             :uuid      "eab40cdd-c89f-49c1-9cb9-c2f2c2c7a4a2",
             :timestamp (makeDate "2020-01-25T11:53:52.000-00:00"),
             :odometer  492476.9,
             :coords    {:latitude  50.8937537,
                         :longitude 13.9913517,
                         :accuracy  20,
                         :speed     67.43,
                         :heading   3.51,
                         :altitude  0},
             :activity  {:type "still", :confidence 100},
             :battery   {:is_charging true, :level 1},
             :extras    {}}
            {:coords    {:latitude  50.9222983,
                         :longitude 13.9623,
                         :accuracy  20,
                         :speed     51.1,
                         :heading   327,
                         :altitude  0},
             :is_moving false,
             :odometer  492476.9,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "bc276726-35d1-48ad-865a-f8c42dfbe284",
             :timestamp (makeDate "2020-01-25T11:55:25.000-00:00"),
             :extras    {}}
            {:coords    {:latitude  51.0688,
                         :longitude 13.7536,
                         :accuracy  20,
                         :speed     -1,
                         :heading   212,
                         :altitude  0},
             :is_moving false,
             :odometer  492476.9,
             :battery   {:is_charging true, :level 1},
             :activity  {:type "still", :confidence 100},
             :event     "motionchange",
             :uuid      "b102b687-344b-4504-bbee-619d794b0ba8",
             :timestamp (makeDate "2020-01-25T18:23:53.000-00:00"),
             :extras    {}}]}

  )


(deftest gpx-test

  (testing "a time can be converted back and forth"

    (is (let [isoString (time->iso8601 (makeDate "2020-01-25T18:23:53.000-00:00"))]
          (or (= "2020-01-25T18:23:53.000-00:00" isoString)
              (= "2020-01-25T18:23:53.000Z" isoString)))))

  (testing "a background-geolocation track can be converted to gpx xml"

    (is (=
          "<?xml version=\"1.0\" encoding=\"UTF-8\"?><gpx version=\"1.1\" creator=\"osm-fulcro\"><trk><trkseg><trkpt lat=\"50.9341\" lon=\"13.6075983\"><ele>0</ele><time>2020-01-25T11:32:33.000Z</time><speed>64.84</speed><magvar>180</magvar></trkpt><trkpt lat=\"50.8149\" lon=\"13.8081983\"><ele>0</ele><time>2020-01-25T11:44:15.000Z</time><speed>45.33</speed><magvar>17</magvar></trkpt><trkpt lat=\"50.8322\" lon=\"13.9680983\"><ele>0</ele><time>2020-01-25T11:50:16.000Z</time><speed>58.73</speed><magvar>111</magvar></trkpt><trkpt lat=\"50.8329\" lon=\"13.977\"><ele>0</ele><time>2020-01-25T11:50:45.000Z</time><speed>0</speed><magvar>-1</magvar></trkpt><trkpt lat=\"50.8891931\" lon=\"13.9896944\"><ele>0</ele><time>2020-01-25T11:53:41.000Z</time><speed>0.03</speed><magvar>19.75</magvar></trkpt><trkpt lat=\"50.8894073\" lon=\"13.9898026\"><ele>0</ele><time>2020-01-25T11:53:42.000Z</time><speed>2.24</speed><magvar>17.71</magvar></trkpt><trkpt lat=\"50.8898144\" lon=\"13.9902509\"><ele>0</ele><time>2020-01-25T11:53:43.000Z</time><speed>15.63</speed><magvar>32.99</magvar></trkpt><trkpt lat=\"50.8901994\" lon=\"13.9906197\"><ele>0</ele><time>2020-01-25T11:53:44.000Z</time><speed>27.58</speed><magvar>31.83</magvar></trkpt><trkpt lat=\"50.8913116\" lon=\"13.9911766\"><ele>0</ele><time>2020-01-25T11:53:46.000Z</time><speed>42.52</speed><magvar>19.09</magvar></trkpt><trkpt lat=\"50.8915184\" lon=\"13.9912014\"><ele>0</ele><time>2020-01-25T11:53:47.000Z</time><speed>41.29</speed><magvar>16.56</magvar></trkpt><trkpt lat=\"50.8924981\" lon=\"13.9912535\"><ele>0</ele><time>2020-01-25T11:53:50.000Z</time><speed>39.04</speed><magvar>6.12</magvar></trkpt><trkpt lat=\"50.8937537\" lon=\"13.9913517\"><ele>0</ele><time>2020-01-25T11:53:52.000Z</time><speed>67.43</speed><magvar>3.51</magvar></trkpt><trkpt lat=\"50.9222983\" lon=\"13.9623\"><ele>0</ele><time>2020-01-25T11:55:25.000Z</time><speed>51.1</speed><magvar>327</magvar></trkpt><trkpt lat=\"50.9341\" lon=\"13.6075983\"><ele>0</ele><time>2020-01-25T11:32:33.000Z</time><speed>64.84</speed><magvar>180</magvar></trkpt><trkpt lat=\"50.8149\" lon=\"13.8081983\"><ele>0</ele><time>2020-01-25T11:44:15.000Z</time><speed>45.33</speed><magvar>17</magvar></trkpt><trkpt lat=\"50.8322\" lon=\"13.9680983\"><ele>0</ele><time>2020-01-25T11:50:16.000Z</time><speed>58.73</speed><magvar>111</magvar></trkpt><trkpt lat=\"50.8329\" lon=\"13.977\"><ele>0</ele><time>2020-01-25T11:50:45.000Z</time><speed>0</speed><magvar>-1</magvar></trkpt><trkpt lat=\"50.8891931\" lon=\"13.9896944\"><ele>0</ele><time>2020-01-25T11:53:41.000Z</time><speed>0.03</speed><magvar>19.75</magvar></trkpt><trkpt lat=\"50.8894073\" lon=\"13.9898026\"><ele>0</ele><time>2020-01-25T11:53:42.000Z</time><speed>2.24</speed><magvar>17.71</magvar></trkpt><trkpt lat=\"50.8898144\" lon=\"13.9902509\"><ele>0</ele><time>2020-01-25T11:53:43.000Z</time><speed>15.63</speed><magvar>32.99</magvar></trkpt><trkpt lat=\"50.8901994\" lon=\"13.9906197\"><ele>0</ele><time>2020-01-25T11:53:44.000Z</time><speed>27.58</speed><magvar>31.83</magvar></trkpt><trkpt lat=\"50.8913116\" lon=\"13.9911766\"><ele>0</ele><time>2020-01-25T11:53:46.000Z</time><speed>42.52</speed><magvar>19.09</magvar></trkpt><trkpt lat=\"50.8915184\" lon=\"13.9912014\"><ele>0</ele><time>2020-01-25T11:53:47.000Z</time><speed>41.29</speed><magvar>16.56</magvar></trkpt><trkpt lat=\"50.8924981\" lon=\"13.9912535\"><ele>0</ele><time>2020-01-25T11:53:50.000Z</time><speed>39.04</speed><magvar>6.12</magvar></trkpt><trkpt lat=\"50.8937537\" lon=\"13.9913517\"><ele>0</ele><time>2020-01-25T11:53:52.000Z</time><speed>67.43</speed><magvar>3.51</magvar></trkpt><trkpt lat=\"50.9222983\" lon=\"13.9623\"><ele>0</ele><time>2020-01-25T11:55:25.000Z</time><speed>51.1</speed><magvar>327</magvar></trkpt><trkpt lat=\"50.9341\" lon=\"13.6075983\"><ele>0</ele><time>2020-01-25T11:32:33.000Z</time><speed>64.84</speed><magvar>180</magvar></trkpt><trkpt lat=\"50.8149\" lon=\"13.8081983\"><ele>0</ele><time>2020-01-25T11:44:15.000Z</time><speed>45.33</speed><magvar>17</magvar></trkpt><trkpt lat=\"50.8322\" lon=\"13.9680983\"><ele>0</ele><time>2020-01-25T11:50:16.000Z</time><speed>58.73</speed><magvar>111</magvar></trkpt><trkpt lat=\"50.8329\" lon=\"13.977\"><ele>0</ele><time>2020-01-25T11:50:45.000Z</time><speed>0</speed><magvar>-1</magvar></trkpt><trkpt lat=\"50.8891931\" lon=\"13.9896944\"><ele>0</ele><time>2020-01-25T11:53:41.000Z</time><speed>0.03</speed><magvar>19.75</magvar></trkpt><trkpt lat=\"50.8894073\" lon=\"13.9898026\"><ele>0</ele><time>2020-01-25T11:53:42.000Z</time><speed>2.24</speed><magvar>17.71</magvar></trkpt><trkpt lat=\"50.8898144\" lon=\"13.9902509\"><ele>0</ele><time>2020-01-25T11:53:43.000Z</time><speed>15.63</speed><magvar>32.99</magvar></trkpt><trkpt lat=\"50.8901994\" lon=\"13.9906197\"><ele>0</ele><time>2020-01-25T11:53:44.000Z</time><speed>27.58</speed><magvar>31.83</magvar></trkpt><trkpt lat=\"50.8913116\" lon=\"13.9911766\"><ele>0</ele><time>2020-01-25T11:53:46.000Z</time><speed>42.52</speed><magvar>19.09</magvar></trkpt><trkpt lat=\"50.8915184\" lon=\"13.9912014\"><ele>0</ele><time>2020-01-25T11:53:47.000Z</time><speed>41.29</speed><magvar>16.56</magvar></trkpt><trkpt lat=\"50.8924981\" lon=\"13.9912535\"><ele>0</ele><time>2020-01-25T11:53:50.000Z</time><speed>39.04</speed><magvar>6.12</magvar></trkpt><trkpt lat=\"50.8937537\" lon=\"13.9913517\"><ele>0</ele><time>2020-01-25T11:53:52.000Z</time><speed>67.43</speed><magvar>3.51</magvar></trkpt><trkpt lat=\"50.9222983\" lon=\"13.9623\"><ele>0</ele><time>2020-01-25T11:55:25.000Z</time><speed>51.1</speed><magvar>327</magvar></trkpt><trkpt lat=\"51.0688\" lon=\"13.7536\"><ele>0</ele><time>2020-01-25T18:23:53.000Z</time><speed>-1</speed><magvar>212</magvar></trkpt></trkseg></trk></gpx>"
          (geo->gpx-xml example-tracks)
          ))))
